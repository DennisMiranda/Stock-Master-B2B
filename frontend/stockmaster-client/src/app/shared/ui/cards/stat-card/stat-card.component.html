<!-- Stat Card Component - Responsive con Container Queries -->
<div class="@container flex flex-col bg-white rounded-2xl border border-gray-200 shadow-xl overflow-hidden relative">
    <!-- Decorative Header Background -->
    <div class="absolute top-0 w-full h-14 bg-gradient-to-r from-gray-100 to-gray-50 opacity-80 pointer-events-none">
    </div>

    <!-- Header -->
    <div class="px-4 @sm:px-5 py-3 @sm:py-4 border-b border-gray-100 flex items-center justify-between relative z-10">
        <div class="flex items-center gap-2 @sm:gap-3">
            <div class="p-1.5 @sm:p-2 rounded-lg @sm:rounded-xl shadow-sm" [class]="iconBgClass">
                <lucide-angular [img]="icon" class="w-4 h-4 @sm:w-5 @sm:h-5"></lucide-angular>
            </div>
            <div>
                <h3 class="text-base @sm:text-lg font-bold text-gray-900">{{ title }}</h3>
                @if (subtitle) {
                <p class="text-xs text-gray-500 font-medium">{{ subtitle }}</p>
                }
            </div>
        </div>
    </div>

    <!-- Table Content -->
    <div class="overflow-auto flex-1 p-0">
        <table class="w-full text-sm">
            <tbody class="divide-y divide-gray-50">
                @for (item of items; track item.id; let i = $index) {
                <tr class="group">
                    <!-- Ranking Number -->
                    <td class="pl-4 @sm:pl-6 py-3 @sm:py-4 w-12 @sm:w-16 text-center">
                        <div class="w-6 h-6 @sm:w-8 @sm:h-8 rounded-full bg-gray-100 text-gray-600 font-bold 
                                    flex items-center justify-center text-xs @sm:text-sm">
                            {{ i + 1 }}
                        </div>
                    </td>

                    <!-- Product Image -->
                    <td class="px-2 @sm:px-4 py-3 @sm:py-4 w-12 @sm:w-16">
                        @if (item.images.length && item.images[0]) {
                        <img [src]="item.images[0]"
                            class="w-10 h-10 @sm:w-12 @sm:h-12 rounded-lg object-cover bg-gray-50 ring-1 ring-gray-100 shadow-sm">
                        } @else {
                        <div
                            class="w-10 h-10 @sm:w-12 @sm:h-12 rounded-lg bg-gray-100 flex items-center justify-center text-gray-400">
                            <lucide-angular [img]="icon" class="w-4 h-4 @sm:w-5 @sm:h-5 opacity-50"></lucide-angular>
                        </div>
                        }
                    </td>

                    <!-- Product Name -->
                    <td class="px-2 @sm:px-4 py-3 @sm:py-4">
                        <span class="block font-medium text-gray-900 text-sm @sm:text-base mb-0.5 line-clamp-1">{{
                            item.name
                            }}</span>
                        <span class="text-xs text-gray-500 hidden @sm:block">{{ itemSubtitle }}</span>
                    </td>

                    <!-- Value -->
                    <td class="pr-4 @sm:pr-6 py-3 @sm:py-4 text-right">
                        <span class="block font-bold text-lg @sm:text-xl" [class]="valueColorClass">{{ item.value
                            }}</span>
                        <span class="text-xs font-medium uppercase tracking-wider hidden @sm:block"
                            [class]="labelColorClass">{{ valueLabel }}</span>
                    </td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</div>